"use strict";(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){a.fn.extend({imagesLoaded:function(c){var b=a(this).find("img");var f=b.length;if(f==0){c()}for(var d=0,e=b.length;d<e;d++){var g=new Image();g.onload=g.onerror=function(h){f--;if(f==0){c()}};g.src=b[d].src}},gridify:function(e){var g=a(this),e=e||{},d=function(j){var h=0;for(var k=1,l=j.length;k<l;k++){if(j[k]<j[h]){h=k}}return h},c=function(h){var j=0;for(var k=1,l=h.length;k<l;k++){if(h[k]>h[j]){j=k}}return h[j]},f=function(){g.css("position","relative");var q=g.find(e.srcNode),p=(e.transition||"all 0.5s ease")+", height 0, width 0",h=g.innerWidth(),j=parseInt(e.margin||0),r=parseInt(e.max_width||e.width||220),l=Math.max(Math.floor(h/(r+j)),1),m=l==1?j/2:(h%(r+j))/2,n=[];if(e.max_width){l=Math.ceil(h/(r+j));r=(h-l*j-j)/l;m=j/2}for(var o=0;o<l;o++){n.push(0)}for(var o=0,k=q.length;o<k;o++){var t=a(q[o]),s=d(n);t.css({width:r,position:"absolute",margin:j/2,top:n[s]+j/2,left:(r+j)*s+m,transition:p});n[s]+=t.innerHeight()+j}g.css("height",c(n)+"px")};g.imagesLoaded(f);if(e.resizable){var b=a(window).bind("resize",f);g.on("remove",b.unbind)}}})}));